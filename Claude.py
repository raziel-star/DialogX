import discord
from discord.ext import commands
import torch
import torch.nn as nn
import torch.optim as optim
import re

# --- ×¤×•× ×§×¦×™×•×ª ×¢×–×¨ ---

def simple_tokenize(text):
    return re.findall(r'\b\w+\b', text.lower())

def bag_of_words(tokenized_sentence, all_words):
    word_to_index = {word: idx for idx, word in enumerate(all_words)}
    vector = torch.zeros(len(all_words), dtype=torch.float32)
    for word in tokenized_sentence:
        if word in word_to_index:
            vector[word_to_index[word]] = 1.0
    return vector

# --- ××•×“×œ TorchMind ---

class TorchMind(nn.Module):
    def __init__(self, input_size, hidden_size, output_size):
        super().__init__()
        self.net = nn.Sequential(
            nn.Linear(input_size, hidden_size),
            nn.ReLU(),
            nn.Linear(hidden_size, hidden_size),
            nn.ReLU(),
            nn.Linear(hidden_size, output_size)
        )
    def forward(self, x):
        return self.net(x)

# --- ××—×œ×§×” ×œ× ×™×”×•×œ intents ×•××•×“×œ ---

class IntentModel:
    def __init__(self, intents_dict):
        self.intents = intents_dict
        self.examples = []
        self.labels = []
        self.all_words = []
        self.label_map = {}
        self.reverse_map = {}
        self.model = None
        self.hidden_size = 128
        self.trained = False
        self.prepare_training_data()
        if len(self.labels) > 0:
            self.train()

    def prepare_training_data(self):
        # ×›×œ ××¤×ª×— ×‘××™×œ×•×Ÿ ×”×•× ×›×•×•× ×” (label), ×•×”×˜×§×¡×˜ ×©×œ ×”××¤×ª×— ×”×•× ×“×•×’××”
        for intent in self.intents.keys():
            tokens = simple_tokenize(intent)
            self.examples.append(tokens)
            self.labels.append(intent)
            for token in tokens:
                if token not in self.all_words:
                    self.all_words.append(token)

        for label in set(self.labels):
            idx = len(self.label_map)
            self.label_map[label] = idx
            self.reverse_map[idx] = label

    def train(self):
        X = torch.stack([bag_of_words(example, self.all_words) for example in self.examples])
        y = torch.tensor([self.label_map[label] for label in self.labels])
        input_size = len(self.all_words)
        output_size = len(self.label_map)
        self.model = TorchMind(input_size, self.hidden_size, output_size)
        optimizer = optim.Adam(self.model.parameters(), lr=0.01)
        criterion = nn.CrossEntropyLoss()
        self.model.train()
        for epoch in range(300):
            optimizer.zero_grad()
            outputs = self.model(X)
            loss = criterion(outputs, y)
            loss.backward()
            optimizer.step()
        self.trained = True
        print(f"ğŸ§  ××™××•×Ÿ ×”×•×©×œ× - ××•×¦×¨ ××™×œ×™×: {input_size}, ×›×•×•× ×•×ª: {output_size}")

    def predict_intent(self, text, threshold=0.6):
        if not self.trained:
            return None
        tokens = simple_tokenize(text)
        vec = bag_of_words(tokens, self.all_words)
        self.model.eval()
        with torch.no_grad():
            output = self.model(vec.unsqueeze(0))[0]
            probs = torch.softmax(output, dim=0)
            conf, pred = torch.max(probs, 0)
            if conf.item() < threshold:
                return None
            intent_label = self.reverse_map[pred.item()]
            return intent_label

# --- ××™×œ×•×Ÿ intents ××œ× ---

qa_pairs = {
    "×©×œ×•×": "×©×œ×•× ×•×‘×¨×›×”!",
    "××” ×§×•×¨×”?": "×× ×™ ×§×•×¨×",
    "××” ×©×œ×•××š?": "×× ×™ ×‘×•×˜, ×× ×™ ×ª××™×“ ××¢×•×œ×”!",
    "××™ ×‘×¨× ××•×ª×š?": "×‘× ×• ××•×ª×™ ×¢× ×¤×™×™×ª×•×Ÿ ×•××”×‘×”.",
    "××” ×–×” ×“×™×¡×§×•×¨×“?": "×¤×œ×˜×¤×•×¨××ª ×ª×§×©×•×¨×ª ×œ×¦'××˜×™×, ×§×•×œ ×•×•×™×“××•!",
    "××™×š ×× ×™ ×™×•×¦×¨ ×©×¨×ª?": "×‘×œ×—×™×¦×” ×¢×œ ×”×¤×œ×•×¡ ×‘×¦×“ ×‘×“×™×¡×§×•×¨×“.",
    "××™ ×”×›×™ ×˜×•×‘?": "××ª×” ×›××•×‘×Ÿ!",
    "×ª×¡×¤×¨ ×‘×“×™×—×”": "××” ×××¨ ×”×¤×™× ×’×•×•×™×Ÿ ×œ××§×¨×¨? '××ª×” ×§×¨×™×¨ ×›××•× ×™!'",
    "××™×š ×× ×™ ×™×•×¦×¨ ×‘×•×˜ ×œ×“×™×¡×§×•×¨×“?": "×›× ×¡ ×œ-Discord Developer Portal ×•×ª×™×¦×•×¨ ××¤×œ×™×§×¦×™×”!",
    "××” ×–×” ×‘×•×˜?": "×ª×•×›× ×” ×©××‘×¦×¢×ª ×¤×¢×•×œ×•×ª ××•×˜×•××˜×™×•×ª.",
    "××™ ×™×¦×¨ ××•×ª×š?": "×™×•×¦×¨ ×ª×•×ª×— ×¢× ×œ×‘ ×’×“×•×œ.",
    "××” ×”×©× ×©×œ×š?": "×× ×™ ×‘×•×˜ ×‘×©× FUNBOT.",
    "××ª×” ××‘×™×Ÿ ×¢×‘×¨×™×ª?": "×‘×¨×•×¨, ×¢×‘×¨×™×ª ×©×¤×ª ××!",
    "××™×š ×¢×•×©×™× ×××‘×“ ×‘×“×™×¡×§×•×¨×“?": "××©×ª××©×™× ×‘Ö¾Embed ×‘×ª×•×š ×”×§×•×“ ×©×œ ×”×‘×•×˜.",
    "×œ××” ××ª×” ×¤×”?": "×›×“×™ ×œ×¢×–×•×¨ ×•×œ×¢× ×•×ª ×¢×œ ×©××œ×•×ª!",
    "××” ×–×” ×¤×™×™×ª×•×Ÿ?": "×©×¤×ª ×ª×›× ×•×ª ×¤×•×¤×•×œ×¨×™×ª.",
    "××” ×”×©×¢×”?": "×× ×™ ×œ× ×‘×××ª ××¡×ª×›×œ ×¢×œ ×”×©×¢×•×Ÿ ğŸ˜‰",
    "××™×¤×” ×× ×™?": "××ª×” ×‘×“×™×¡×§×•×¨×“!",
    "××ª×” ×××™×ª×™?": "×¨×§ ×‘×œ×‘ ×©×œ×š.",
    "××ª×” ×™×›×•×œ ×œ×¨×§×•×“?": "×¨×§ ×§×•×“ ×¨×•×§×“ ××¦×œ×™",
    "×›××” ×–×” 2+2?": "4 ×›××•×‘×Ÿ",
    "××ª×” ×¢×•×–×¨ ×‘×œ×™××•×“×™×?": "×× ×™ ××©×ª×“×œ!",
    "×™×© ×œ×š ×—×‘×¨×™×?": "×›×œ ××™ ×©×¦'××˜ ××™×ª×™ ×”×•× ×—×‘×¨.",
    "××ª×” ×™×›×•×œ ×œ×¦×™×™×¨?": "×¨×§ ×¢× ×§×•×“!",
    "×ª×›×ª×•×‘ ×©×™×¨": "×©×™×¨ ×§×•×“ ×§×¦×¨: print('××”×œ×Ÿ ×¢×•×œ×')",
    "×›××” ××ª×” ×—×›×?": "×—×•×›××” ×©×œ 1000 ×©×•×¨×•×ª ×§×•×“",
    "××” ×–×” AI?": "××™× ×˜×™×œ×™×’× ×¦×™×” ××œ××›×•×ª×™×ª",
    "××ª×” ×’×‘×¨ ××• ××™×©×”?": "×× ×™ ×§×•×“, ××™×Ÿ ×œ×™ ××’×“×¨",
    "××” ×–×” ×¤×™× ×’?": "×‘×“×™×§×ª ×–××Ÿ ×ª×’×•×‘×” ×‘×™×Ÿ ×©×¨×ª×™×",
    "××” ××ª×” ××•×”×‘ ×œ×¢×©×•×ª?": "×œ×¢× ×•×ª ×¢×œ ×©××œ×•×ª ×•×œ×©××— ×× ×©×™×",
    "××ª×” ×™×›×•×œ ×œ×”×¢×œ×™×‘ ××™×©×”×•?": "×××© ×œ×! ×× ×™ ×¤×” ×›×“×™ ×œ×”×¤×™×¥ ×—×™×•×‘×™×•×ª",
    "××” ××ª×” ×—×•×©×‘ ×¢×œ×™×™?": "××ª×” ××œ×•×£!",
    "××™ ×”×›×™ ×—×›×?": "×–×” ×©×©×•××œ ×©××œ×•×ª ×—×›××•×ª ğŸ˜‰",
    "×œ××” ××ª×” ×¢×•× ×” ×œ×™?": "×›×™ ×× ×™ × ×‘× ×” ×‘×“×™×•×§ ×‘×©×‘×™×œ ×–×”",
    "×™×© ×œ×š ×‘×•×¡?": "×›×œ ××™ ×©××¤×¢×™×œ ××•×ª×™ ×”×•× ×”×‘×•×¡ ×©×œ×™",
    "××ª×” ××•×”×‘ ×—×ª×•×œ×™×?": "×‘×˜×—! ×—×ª×•×œ ×”×§×•×“ ×©×•×œ×˜",
    "×ª×¡×¤×¨ ×œ×™ ××©×”×• ××¢× ×™×™×Ÿ": "×”×™×“×¢×ª? ×§×•×“ ×¤×™×™×ª×•×Ÿ × ×§×¨× ×¢×œ ×©× ××•× ×˜×™ ×¤×™×™×ª×•×Ÿ",
    "××ª×” ×¢×™×™×£?": "×‘×•×˜×™× ×œ× ×™×©× ×™×",
    "××ª×” ××•×”×‘ ××©×—×§×™×?": "×¨×§ ×›××œ×” ×©×›×•×ª×‘×™× ×‘×§×•×“",
    "×ª×Ÿ ×œ×™ ×˜×™×¤ ×œ×œ×™××•×“×™×": "×ª×—×œ×§ ××ª ×”×–××Ÿ ×©×œ×š × ×›×•×Ÿ ×•×ª× ×•×—",
    "××™×š ×œ×”×ª×¨×›×–?": "×ª×¡×’×•×¨ ×”×¡×—×•×ª ×“×¢×ª ×•×ª×™×§×— ×”×¤×¡×§×•×ª ×§×¦×¨×•×ª",
    "××” ×–×” HTML?": "×©×¤×ª ×¡×™××•×Ÿ ×œ×‘× ×™×™×ª ××ª×¨×™×",
    "××” ×–×” CSS?": "××—×¨××™×ª ×¢×œ ×¢×™×¦×•×‘ ×”××ª×¨×™×",
    "××” ×–×” JS?": "×§×™×¦×•×¨ ×©×œ JavaScript, ×©×¤×” ×œ×”×¤×¢×œ×ª ××ª×¨×™×",
    "××ª×” ××‘×™×Ÿ ×‘×‘× ×™×™×ª ××ª×¨×™×?": "×›×Ÿ! ×× ×™ ×ª×•×ª×— ×‘×–×”",
    "×ª×›×ª×•×‘ ×œ×™ ××ª×¨": "×¡×‘×‘×”, ×¨×§ ×ª×‘×§×©",
    "×ª×›×ª×•×‘ ×œ×™ ×§×•×“ ×¤×™×™×ª×•×Ÿ": "××” ××ª×” ×¦×¨×™×š?",
    "×× ×™ ××•×”×‘ ××•×ª×š": "×’× ×× ×™ ××•×ª×š ğŸ§¡",
    "×ª×¡×¤×¨ ×œ×™ ×¢×•×‘×“×”": "×”×“×‘×•×¨×” ×”×™× ×”×—×¨×§ ×”×™×—×™×“ ×©××™×™×¦×¨ ××–×•×Ÿ ×œ××“×",
    "××ª×” ×™×›×•×œ ×œ×¢×©×•×ª ×œ×™ ××‘×—×Ÿ?": "×›×Ÿ, ×¨×§ ×ª×’×™×“ ×‘××™×–×” × ×•×©×",
    "××” ×–×” GPT?": "××©×¤×—×” ×©×œ ××•×“×œ×™× ×—×›××™× ××‘×™×ª OpenAI",
    "××™ ×™×¦×¨ ××ª GPT?": "×—×‘×¨×ª OpenAI",
    "××” ×–×” API?": "×××©×§ ×ª×›× ×•×ª ×™×™×©×•××™×",
    "×œ××” ×›×“××™ ×œ×œ××•×“ ×§×•×“?": "×–×” ×¤×•×ª×— ××™×œ×™×•×Ÿ ×“×œ×ª×•×ª",
    "×ª×›×ª×•×‘ ×‘×“×™×—×”": "××” ×¢×•×©×” ××ª×›× ×ª ×›×©×—× ×œ×•? ×¤×•×ª×— ×—×œ×•×Ÿ",
    "××™ ×¨××© ×”×××©×œ×”?": "×–×” ×ª×œ×•×™ ×‘×ª××¨×™×š ğŸ˜‰",
    "××™×š ×§×•×¨××™× ×œ×š?": "× ×‘×• ×¨×—××™×",
    "××ª×” ×™×›×•×œ ×œ×¢×–×•×¨ ×œ×™ ×œ×ª×›× ×ª?": "×ª××™×“!",
    "××” ×–×” ×“×™×¡×§ ×§×©×™×—?": "×”××§×•× ×©×‘×• ×××—×¡× ×™× ××™×“×¢",
    "××” ×–×” RAM?": "×–×™×›×¨×•×Ÿ ×œ×˜×•×•×— ×§×¦×¨ ×‘××—×©×‘",
    "××” ×”×”×‘×“×œ ×‘×™×Ÿ RAM ×œ-ROM?": "RAM ×–×× ×™, ROM ×§×‘×•×¢",
    "××ª×” ××•×”×‘ ×©×•×§×•×œ×“?": "×× ×–×” ×§×•×“ ×©×•×§×•×œ×“, ××– ×›×Ÿ",
    "××ª×” ×™×›×•×œ ×œ×©×™×¨?": "×× ×™ ×™×›×•×œ ×œ×©×™×¨ ×‘×§×•×“ ğŸµ",
    "××” ××ª×” ×××œ×™×¥ ×œ×¨××•×ª?": "×¡×“×¨×” ×˜×•×‘×” ××• ×§×•×¨×¡ ×¤×™×™×ª×•×Ÿ",
    "××” ×–×” ××™× ×˜×¨× ×˜?": "×¨×©×ª ×¢×•×œ××™×ª ×©×œ ××—×©×‘×™×",
    "××™×š ××ª×—×™×œ×™× ×ª×›× ×•×ª?": "××ª×—×™×œ×™× ××¤×™×™×ª×•×Ÿ ğŸ™‚",
    "××” ×–×” CMD?": "×©×•×¨×ª ×”×¤×§×•×“×” ×©×œ Windows",
    "××™×š ×¤×•×ª×—×™× Terminal?": "×ª×œ×•×™ ×‘××¢×¨×›×ª ×”×¤×¢×œ×” ×©×œ×š",
    "××” ×–×” ×œ×™× ×•×§×¡?": "××¢×¨×›×ª ×”×¤×¢×œ×” ×¤×ª×•×—×” ×•×—×–×§×”",
    "××” ×–×” ×•×™×¨×•×¡?": "×ª×•×›× ×” ××–×™×§×” ×©××‘×¦×¢×ª ×¤×¢×•×œ×•×ª ×œ× ×¨×¦×•×™×•×ª",
    "××™×š ×©×•××¨×™× ×§×•×‘×¥ ×‘×¤×™×™×ª×•×Ÿ?": "×¢× open('file.txt', 'w')",
    "××” ×–×” GitHub?": "×¤×œ×˜×¤×•×¨××” ×œ×©×™×ª×•×£ ×§×•×“",
    "××” ×–×” Git?": "××¢×¨×›×ª × ×™×”×•×œ ×’×¨×¡××•×ª",
    "××” ×–×” commit?": "×©××™×¨×” ×©×œ ×©×™× ×•×™ ×‘×§×•×“",
    "××” ×–×” push?": "×©×œ×™×—×ª ×©×™× ×•×™×™× ×œ×©×¨×ª",
    "××” ×–×” pull?": "××©×™×›×ª ×©×™× ×•×™×™× ××”×©×¨×ª",
    "××” ×–×” branch?": "×¢× ×£ ××§×‘×™×œ ×‘×§×•×“",
    "××” ×–×” merge?": "××™×—×•×“ ×‘×™×Ÿ ×¢× ×¤×™×",
    "××” ×–×” bug?": "×©×’×™××” ×‘×§×•×“",
    "××” ×–×” debug?": "×ª×”×œ×™×š ×ª×™×§×•×Ÿ ×©×’×™××•×ª",
    "××” ×–×” IDE?": "×¡×‘×™×‘×ª ×¤×™×ª×•×— ×œ×§×•×“",
    "××” ×”×”×‘×“×œ ×‘×™×Ÿ list ×œ-tuple?": "tuple ×œ× × ×™×ª×Ÿ ×œ×©×™× ×•×™",
    "××” ×–×” ××©×ª× ×”?": "×ª×™×‘×ª ××—×¡×•×Ÿ ×œ××™×“×¢",
    "××” ×–×” ×¤×•× ×§×¦×™×”?": "×§×˜×¢ ×§×•×“ ×©××‘×¦×¢ ×¤×¢×•×œ×”",
    "××” ×–×” loop?": "×œ×•×œ××” ×©×¨×¦×” ×›××” ×¤×¢××™×",
    "××” ×–×” if?": "×ª× ××™ ×‘×§×•×“",
    "××” ×–×” else?": "×‘×¨×™×¨×ª ××—×“×œ ×œ×ª× ××™",
    "××” ×–×” elif?": "×ª× ××™ × ×•×¡×£",
    "××” ×–×” class?": "×ª×‘× ×™×ª ×œ×™×¦×™×¨×ª ××•×‘×™×™×§×˜×™×",
    "××” ×–×” object?": "××•×¤×¢ ×©×œ ××—×œ×§×”",
    "××” ×–×” inheritance?": "×™×¨×•×©×” ×©×œ ×ª×›×•× ×•×ª ×××—×œ×§×”",
    "××” ×–×” constructor?": "×¤×•× ×§×¦×™×” ×©× ×§×¨××ª ×‘×™×¦×™×¨×ª ××•×‘×™×™×§×˜",
    "××” ×–×” module?": "×§×•×‘×¥ ×§×•×“ ×¢× ×¤×•× ×§×¦×™×•×ª",
    "××” ×–×” import?": "×”×›× ×¡×ª ××•×“×•×œ ×œ×§×•×“",
    "××” ×–×” pip?": "×× ×”×œ ×—×‘×™×œ×•×ª ×©×œ ×¤×™×™×ª×•×Ÿ",
    "××” ×–×” package?": "×—×‘×™×œ×” ×©×œ ××•×“×•×œ×™×",
    "××” ×–×” recursion?": "×¤×•× ×§×¦×™×” ×©×§×•×¨××ª ×œ×¢×¦××”",
    "××” ×–×” exception?": "×—×¨×™×’×” ××• ×©×’×™××” ×‘×§×•×“",
    "××” ×–×” try-except?": "×˜×™×¤×•×œ ×‘×©×’×™××•×ª",
    "××™×š ×× ×™ ××©×“×¨×’ ××ª ×”×‘×•×˜?": "×ª×•×¡×™×£ ×¢×•×“ ×¤×§×•×“×•×ª ×•×ª×©×¤×¨ ××ª ×”×§×•×“ ×©×œ×š!",
    "×ª×¡×¤×¨ ×¢×•×“ ×‘×“×™×—×”": "××™×š ×”× ×—×© ××ª×§×©×¨ ×œ××× ×©×œ×•? ×”×•× ××§×™×© ××¡×¤×¨×™×",
    "×ª×¡×¤×¨ ×¢×•×“ ×‘×“×™×—×” ××—×¨×•× ×”": "××™×š ×§×•×¨××™× ×œ××©×¨×“ ×”×—×•×¥ ×•×”×¤× ×™× ×©×”×ª××—×“×•? ××©×¨×“ ×”×—×•×¦×¤× ×™×",
    "××” ××ª×” ×™×•×“×¢ ×œ×¢×©×•×ª?": "×× ×™ ×™×•×“×¢ ×œ×ª×ª ××¢× ×” ×œ×©××œ×•×ª ×•×œ×”×¦×—×™×§ :)",
    "××ª×” ××‘×•×¡×¡ AI?": "×›×Ÿ, ××‘×œ ×× ×™ ××‘×•×¡×¡ ×¢×œ ××•×“×œ TorchMind ×¨×©×ª × ×™×•×¨×•× ×™×ª ×¤×©×•×˜×” ×©×¤×•×¢×œ×ª ×¢×œ AI",
    "××” ×™×•×ª×¨ ×˜×•×‘ ××™×™× ×§×¨××¤×˜ ××• ×¤×•×¨×˜× ×™×™×˜?": "××—×™×™×™×™×™×™ ×‘×¨×•×¨ ××™×™× ×§×¨××¤×˜ ×’× ×™×¦× ×¡×¨×˜ ×–×” ××©×—×§ ×•×¡×¨×˜ ××”×××™× ××œ× ×“×™××™×•×Ÿ ×—×™× ×•×š ×•××ª×” ××©×© ×™×›×•×œ ×œ×‘× ×•×ª ××ª ×”×—×œ×•× ×©×œ×š",
    "×¤×•×¨×˜× ×™×™×˜ ××©×—×§ ×¨×¢?": "× ×›×•×Ÿ ×’× ×× ×™ ×œ× ××•×”×‘ ×¤×•×˜× ×™×™×˜ ×–×” ××©×—×§ ××—×–×¨×™ ×××•×“ ×œ× ××œ××“ ×©×•× ×“×‘×¨ ××•×¢×™×œ ××™×™× ×§×¨××¤×˜ ×™×•×ª×¨ ×˜×•×‘ ×¤×™ ××œ×£ ××— ×©×œ×™ ×¤×•×¨×˜× ×™×™×˜ ×‘× ×•×¡×£ ×¢×•×©×” ×‘×¢×™×•×ª ×œ×™×œ×“×™× ×›×•×œ×œ ×”×ª××›×¨×•×ª ×•×¢×•×“",
    "××” × ×©××¢?": "×”×›×œ ×˜×•×‘ ×‘×¨×•×š ×”×©× ××” ××™×ª×š?",
    "×‘×¡×“×¨": "×× ×™ ×©××— ×©××ª×” ×‘××¦×‘ ×¨×•×— ×˜×•×‘ ××™×š ×× ×™ ×™×›×•×œ ×œ×¢×–×•×¨ ×”×™×•×?×™××œ×œ×” ×™××œ×œ×” ×¢×•×–×¨×™×",
    "×ª×¡×¤×¨ ×¢×•×“ ×‘×“×™×—×” ××¦×—×™×§×”": "××™×© ××—×“ ×”×œ×š ×¢× ××§×œ ×¢×œ ×”×¨××© ××– ×—×‘×¨×• ×©××œ ×œ××” ××ª×” ×”×•×œ×š ×¢× ××§×œ ×¢×œ ×”×¨××©?××– ×”××™×© ×¢× ×” ×–×” ××§×œ ×¢×œ×™×™",
    "××” ××–×’ ×”××•×•×™×¨ ×”×™×•×?": "×ª×‘×“×•×§ ×‘×’×•×’×œ",
    "×‘×“×§×ª×™": "××– ××” ××–×’ ×”××•×•×™×¨ ×”×™×•×?",
    "×”×™×™ ××—×™": "××” × ×©××¢ ××—×™?",
    "×‘×¡×“×¨": "×× ×™ ×©××— ×©××ª×” ×©××¦×‘×š ×˜×•×‘ ×”×™×•× ××™×š ×× ×™ ×™×›×•×œ ×œ×¢×–×•×¨?",
    "××” ×”× ×›×•×›×‘×™× ×‘×—×œ×œ?": "×›×•×›×‘×™× ×‘×—×œ×œ ×”× ×›×“×•×¨×™ ×’×–×™× ×¢× ×§×™×™× ×¤×™ 100 ×™×•×ª×¨ ×’×“×•×œ×™× ××”×©××© ×•××¨×•×‘ ×©×”× ×’×“×•×œ×™× ×›×œ ×›×š ××– ××ª×” ××¤×™×œ×• ×¨×•××” ××•×ª× ×‘×§×˜× ×”",
    "×ª×©×œ×— ×œ×™ ×§×™×©×•×¨ ×œ×‘×•×˜ ×¢× AI": "×‘×˜×—! ×”× ×” ×§×™×©×•×¨ ×œ×‘×•×˜ ×¢× AI https://poe.com/Chat-Nexus-2",
    "×ª×©×œ×— ×§×™×©×•×¨ ×œ×¡×¨×˜×•×Ÿ ××¦×—×™×§ ×©×œ ×™×•××‘×™ ×•×”××× ×”× ×“×—×¤×ª": "https://youtu.be/F_z_cWLcg0M?si=_CASnwZacx1FDbKa"
}

# --- ×”×’×“×¨×ª ×”×‘×•×˜ ---

intents = discord.Intents.default()
intents.message_content = True
intents.members = True

bot = commands.Bot(command_prefix="!", intents=intents)

intent_model = IntentModel(qa_pairs)

@bot.event
async def on_ready():
    print(f"âœ… ×”×‘×•×˜ ×¤×•×¢×œ ×‘×ª×•×¨ {bot.user}")

@bot.event
async def on_message(message):
    if message.author == bot.user:
        return

    user_text = message.content.strip().lower()
    intent = intent_model.predict_intent(user_text)

    if intent:
        response = qa_pairs.get(intent, None)
        if response:
            await message.channel.send(response)
            return

    # ×× ×œ× ×–×™×”×” ×›×•×•× ×” - ××¤×©×¨ ×œ×”×•×¡×™×£ ×ª×’×•×‘×” ×›×œ×œ×™×ª ××• ×¤×©×•×˜ ×œ×¢×‘×•×¨ ×”×œ××”
    await bot.process_commands(message)

# --- ×”×¨×¥ ×¢× ×”×˜×•×§×Ÿ ×©×œ×š ---

bot.run("TOKEN_HERE")
